db = connect('localhost:27017/api-factory');

db.entities.find({'name': 'city'}).forEach(function (v) {
    var region = '';
    var regionId = null;
    var cityTable = 'tableentity_' + v['_id'].str + 's';
    [
        ['Брестская область','Барановичский район','Барановичи'],
        ['Брестская область','Ганцевичский район','Ганцевичи'],
        ['Брестская область','Столинский район','Давид-Городок'],
        ['Брестская область','Дрогичинский район','Дрогичин'],
        ['Брестская область','Жабинковский район','Жабинка'],
        ['Брестская область','Ивановский район','Иваново'],
        ['Брестская область','Ивацевичский район','Ивацевичи'],
        ['Брестская область','Каменецкий район','Каменец'],
        ['Брестская область','Кобринский район','Кобрин'],
        ['Брестская область','Ивацевичский район','Коссово'],
        ['Брестская область','Лунинецкий район','Лунинец'],
        ['Брестская область','Ляховичский район','Ляховичи'],
        ['Брестская область','Малоритский район','Малорита'],
        ['Брестская область','Лунинецкий район','Микашевичи'],
        ['Брестская область','Пинский район','Пинск'],
        ['Брестская область','Пружанский район','Пружаны'],
        ['Брестская область','Столинский район','Столин'],
        ['Брестская область','Берёзовский район','Белоозерск'],
        ['Брестская область','Берёзовский район','Берёза'],
        ['Брестская область','Брестский район','Брест'],
        ['Брестская область','Каменецкий район','Высокое'],
        ['Витебская область','Глубокский район','Глубокое'],
        ['Витебская область','Городокский район','Городок'],
        ['Витебская область','Миорски районй','Дисна'],
        ['Витебская область','Докшицкий район','Докшицы'],
        ['Витебская область','Дубровенский район','Дубровно'],
        ['Витебская область','Лепельский район','Лепель'],
        ['Витебская область','Миорский район','Миоры'],
        ['Витебская область','Чашникский район','Новолукомль'],
        ['Витебская область','Полоцкий район','Новополоцк'],
        ['Витебская область','Оршанский район','Орша'],
        ['Витебская область','Полоцкий район','Полоцк'],
        ['Витебская область','Поставский район','Поставы'],
        ['Витебская область','Сенненский район','Сенно'],
        ['Витебская область','Толочинский район','Толочин'],
        ['Витебская область','Чашникский район','Чашники'],
        ['Витебская область','Оршанский район','Барань'],
        ['Витебская область','Браславский район','Браслав'],
        ['Витебская область','Верхнедвинский район','Верхнедвинск'],
        ['Витебская область','Витебский район','Витебск'],
        ['Гомельская область','Гомельский район','Гомель'],
        ['Гомельская область','Добрушский район','Добруш'],
        ['Гомельская область','Ельский район','Ельск'],
        ['Гомельская область','Житковичский район','Житковичи'],
        ['Гомельская область','Жлобинский район','Жлобин'],
        ['Гомельская область','Калинковичский район','Калинковичи'],
        ['Гомельская область','Мозырский район','Мозырь'],
        ['Гомельская область','Наровлянский район','Наровля'],
        ['Гомельская область','Петриковский район','Петриков'],
        ['Гомельская область','Речицкий район','Речица'],
        ['Гомельская область','Рогачёвский район','Рогачев'],
        ['Гомельская область','Светлогорский','Светлогорск'],
        ['Гомельская область','Житковичский район','Туров'],
        ['Гомельская область','Хойникский район','Хойники'],
        ['Гомельская область','Чечерский район','Чечерск'],
        ['Гомельская область','Буда-Кошелёвский район','Буда-Кошелево'],
        ['Гомельская область','Речицкий район','Василевичи'],
        ['Гомельская область','Ветковский район','Ветка'],
        ['Гродненская область','Волковысский район','Волковыск'],
        ['Гродненская область','Гродненский район','Гродно'],
        ['Гродненская область','Дятловский район','Дятлово'],
        ['Гродненская область','Ивьевский район','Ивье'],
        ['Гродненская область','Лидский район','Лида'],
        ['Гродненская область','Мостовский район','Мосты'],
        ['Гродненская область','Новогрудский район','Новогрудок'],
        ['Гродненская область','Островецкий район','Островец'],
        ['Гродненская область','Ошмянский район','Ошмяны'],
        ['Гродненская область','Свислочский район','Свислочь'],
        ['Гродненская область','Гродненский район','Скидель'],
        ['Гродненская область','Слонимский район','Слоним'],
        ['Гродненская область','Сморгонский район','Сморгонь'],
        ['Гродненская область','Щучински район','Щучин'],
        ['Гродненская область','Лидский район','Березовка'],
        ['Минская область','Дзержинский район','Дзержинск'],
        ['Минская область','Смолевичский район','Жодино'],
        ['Минская область','Минский район','Заславль'],
        ['Минская область','Клецкий район','Клецк'],
        ['Минская область','Копыльский район','Копыль'],
        ['Минская область','Круглянский район','Круглое'],
        ['Минская область','Крупский район','Крупки'],
        ['Минская область','Логойский район','Логойск'],
        ['Минская область','Любанский район','Любань'],
        ['Минская область','Пуховичский район','Марьина Горка'],
        ['Минская область','Минский район','Минск'],
        ['Минская область','Молодеченский район','Молодечно'],
        ['Минская область','Мядельский район','Мядель'],
        ['Минская область','Несвижский район','Несвиж'],
        ['Минская область','Слуцкий район','Слуцк'],
        ['Минская область','Смолевичский район','Смолевичи'],
        ['Минская область','Солигорский район','Солигорск'],
        ['Минская область','Стародорожский район','Старые Дороги'],
        ['Минская область','Столбцовский район','Столбцы'],
        ['Минская область','Узденский район','Узда'],
        ['Минская область','Дзержинский район','Фаниполь'],
        ['Минская область','Червенский район','Червень'],
        ['Минская область','Березинский район','Березино'],
        ['Минская область','Борисовский район','Борисов'],
        ['Минская область','Вилейский район','Вилейка'],
        ['Минская область','Воложинский район','Воложин'],
        ['Могилёвская область','Бобруйский район','Бобруйск'],
        ['Могилёвская область','Горецкий район','Горки'],
        ['Могилёвская область','Кировский район','Кировск'],
        ['Могилёвская область','Климовичский район','Климовичи'],
        ['Могилёвская область','Кличевский район','Кличев'],
        ['Могилёвская область','Костюковичский район','Костюковичи'],
        ['Могилёвская область','Кричевский район','Кричев'],
        ['Могилёвская область','Могилёвский район','Могилев'],
        ['Могилёвская область','Мстиславский район','Мстиславль'],
        ['Могилёвская область','Осиповичский район','Осиповичи'],
        ['Могилёвская область','Славгородский район','Славгород'],
        ['Могилёвская область','Чаусский район','Чаусы'],
        ['Могилёвская область','Чериковский район','Чериков'],
        ['Могилёвская область','Шкловский район','Шклов'],
        ['Могилёвская область','Белыничский район','Белыничи'],
        ['Могилёвская область','Быховский район','Быхов']
    ].forEach(function (w) {
        if (w[0] !== region) {
            db[cityTable].save({
                sorting: NumberInt(0),
                level: NumberInt(0),
                main: false,
                popular: false,
                timezone: NumberInt(3),
                name: w[0],
                shortName: w[0],
                geo: {type: 'Point', coordinates: [0, 0]},
                status: new ObjectId('598d9bac47217f28ba69e0f5'),
                parent: null
            });
            var city = db[cityTable].findOne({name: w[0]});
            region = w[0];
            regionId = city._id;
        }
        db[cityTable].save({
            sorting: NumberInt(1),
            level: NumberInt(1),
            main: false,
            popular: false,
            timezone: NumberInt(3),
            name: w[2],
            shortName: w[2],
            geo: {type: 'Point', coordinates: [0, 0]},
            status: new ObjectId('598d9bac47217f28ba69e0f5'),
            parent: regionId
        });
    });
});
